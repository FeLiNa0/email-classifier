#include <stdio.h>

// The values 0..2^N shuffled into random order.
unsigned T128[128] = {68, 78, 2, 46, 48, 107, 16, 116, 44, 63, 23, 90, 32, 124, 77, 39, 3, 64, 5, 94, 43, 51, 27, 4, 69, 123, 58, 54, 106, 56, 99, 36, 127, 9, 113, 71, 114, 49, 57, 21, 41, 80, 85, 59, 79, 35, 100, 1, 118, 121, 108, 95, 126, 34, 18, 122, 109, 83, 62, 12, 86, 112, 10, 92, 115, 61, 102, 47, 101, 7, 105, 38, 96, 40, 81, 125, 88, 33, 28, 89, 120, 84, 74, 14, 29, 22, 55, 93, 97, 42, 110, 6, 11, 98, 60, 87, 30, 103, 76, 37, 52, 66, 70, 82, 91, 45, 50, 53, 17, 73, 67, 26, 20, 25, 72, 8, 104, 19, 75, 13, 24, 31, 65, 117, 111, 15, 0, 119};

inline unsigned hash128(const char* s) {
    unsigned h = 0;
    for (int c = *s++; c; c = *s++) {
        h = T128[h ^ (127 & c)];
    }
    return h;
}

int main(void) {
    char t[][7] = {"lol","whyyy","lal","lel","a","b","ask me!"};
    for (int i = 0; i < sizeof(t); i++)
        printf("%s: %u\n", t[i], hash128(t[i]));
    return 0;
}
